// RawHash2 Preset Configuration
// Exact replication of RawHash2 settings for validation

params {
    // Apply RawHash2-equivalent settings
    pore_model = 'uncalled4_r1041'
    segmentation_method = 'ttest'
    matching_method = 'hash'
    
    // Pore model specific configuration
    pore_models {
        uncalled4_r1041 {
            model_file = "../rawhash2/extern/local_kmer_models/uncalled_r1041_model_only_means.txt"
            kmer_size = 9
            level_column = 1
        }
    }
    
    // T-test segmentation for R10.4.1
    segmentation_configs {
        ttest_r1041 {
            window_length1 = 3
            window_length2 = 6
            threshold1 = 6.5
            threshold2 = 4.0  
            peak_height = 0.2
        }
    }
    
    // Hash-based matching configuration
    matching_configs {
        hash_sensitive {
            events_per_hash = 8
            quantization_bits = 4
            minimizer_window = 0
            signal_diff = 0.4
            chain_gap_scale = 1.0
            bandwidth = 500
        }
    }
}

// Resource configuration
process {
    withName:REFERENCE_ENCODING {
        cpus = 4
        memory = '8 GB'
        time = '1h'
    }
    
    withName:SIGNAL_SEGMENTATION {
        cpus = 8
        memory = '16 GB' 
        time = '4h'
    }
    
    withName:REPRESENTATION_MATCHING {
        cpus = 16
        memory = '32 GB'
        time = '8h'
    }
    
    withName:EVALUATE_RESULTS {
        cpus = 2
        memory = '4 GB'
        time = '30m'
    }
}
